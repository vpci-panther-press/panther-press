---
import HeaderLink from './HeaderLink.astro'
import Search from './Search.astro'
import ToggleTheme from './ToggleTheme.astro'
import InstagramIcon from './icons/InstagramIcon.astro'
import LinktreeIcon from './icons/LinktreeIcon.astro'
import MenuIcon from './icons/MenuIcon.astro'
import Logo from './icons/Logo.astro'

const SOCIALNETWORKS = [
	{
		name: 'Instagram',
		url: 'https://instagram.com/vp.pantherpress',
		icon: InstagramIcon
	},

	{
		name: 'Linktree',
		url: 'https://linktr.ee/pantherpress',
		icon: LinktreeIcon
	}
]
---

<script>
	import '@preline/collapse'
</script>

<script is:inline>
	document.addEventListener('astro:after-swap', () => {
		HSCollapse.autoInit()
	})
</script>

<header
	class='font-manrope flex flex-wrap sm:justify-start sm:flex-nowrap z-50 w-fulltext-sm py-4 md:bg-transparent bg-zinc-200 md:dark:bg-transparent dark:bg-zinc-900 rounded-lg'
>
	<nav
		class='max-w-[85rem] w-full mx-auto px-4 sm:flex sm:items-center sm:justify-between'
		aria-label='Global'
	>
		<div class='flex items-center justify-between'>
			<a
				class='flex-none text-2xl font-semibold hover:trans-text text-zinc-900 dark:text-white'
				href='/'
			>
				<div class='flex flex-row gap-x-2 items-center'>
					<Logo width={24} height={24} /> Panther Press
				</div></a
			>
			<div class='sm:hidden flex flex-row items-center gap-2'>
				<Search />
				<button
					type='button'
					class='hs-collapse-toggle transition-all p-2 gap-2 inline-flex justify-center items-center text-sm font-medium rounded-md border bg-white hover:bg-gray-50 text-gray-700 dark:bg-zinc-900 dark:hover:bg-zinc-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white'
					data-hs-collapse='#navbar-collapse-with-animation'
					aria-controls='navbar-collapse-with-animation'
					aria-label='Toggle navigation'
				>
					<MenuIcon />
				</button>
			</div>
		</div>
		<div
			id='navbar-collapse-with-animation'
			class='hs-collapse hidden overflow-hidden transition-all duration-300 basis-full grow sm:flex flex-row ml-auto'
		>
			<div
				class='flex flex-col gap-5 mt-5 sm:flex-row sm:items-center sm:justify-end sm:mt-0 sm:pl-5 ml-auto text-lg font-semibold'
			>
				<HeaderLink href='/articles/1'>Articles</HeaderLink>
				<HeaderLink href='/issues'>Issues</HeaderLink>
				<HeaderLink href='/about-us'>About Us</HeaderLink>
				<div transition:persist class='flex flex-row gap-2 align-middle'>
					{
						SOCIALNETWORKS.map((network) => (
							<HeaderLink
								class='my-auto'
								href={network.url}
								target='_blank'
								aria-label={network.name}
							>
								<span>{<network.icon />} </span>
							</HeaderLink>
						))
					}
					<div class='hidden sm:inline-block'>
						<Search />
					</div>
					<ToggleTheme />
				</div>
			</div>
		</div>
	</nav>
</header>
