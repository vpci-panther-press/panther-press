---
import { Image } from 'astro:assets'
import { sluglify } from '@/utils'
type Author = {
	name: string
	bio: string
	pfp: string
}
type Props = {
	author?: Author
	imageCredit: string
}
const { author, imageCredit } = Astro.props
---

<div class='flex flex-row md:flex-col'>
	<a href={`/author/${sluglify(author!.name).toLowerCase()}`}>
		<div class='group flex items-center gap-x-3 border-b border-gray-200 pb-8 dark:border-gray-700'>
			<div class='block flex-shrink-0'>
				<Image
					height={20}
					width={20}
					format='webp'
					class='h-10 w-10 rounded-full'
					src={author?.pfp || '/author/default.jpg'}
					alt={'Headshot of ' + author?.name || 'No author found'}
				/>
			</div>
			<div class='group grow block'>
				<h5
					class='group-hover:text-gray-600 text-sm font-semibold text-gray-800 dark:group-hover:text-gray-400 dark:text-gray-200'
				>
					{author!.name}
				</h5>
				<p class='text-sm text-gray-500'>
					{author?.bio}
				</p>
			</div>
		</div>
	</a>
	<div class='mx-6 md:hideen inline-block border-x'></div>
	<div class='text-center pt-3 md:ml-0 border-b border-gray-200 pb-8 dark:border-gray-700'>
		<p class='text-sm text-gray-500 dark:text-gray-400'>
			Photo by <span class='text-gray-600 dark:text-gray-300'>{imageCredit}</span>
		</p>
	</div>
</div>
